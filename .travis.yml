language: node_js
node_js:
- 14
cache:
  directories:
  - node_modules
addons:
  apt:
    packages:
    - sshpass
before_script:
- yarn install
script:
- yarn build:prod
after_success:
- tar -czf package.tgz ./out
- export SSHPASS=$DEPLOY_PASS
- sshpass -e scp -o stricthostkeychecking=no package.tgz $DEPLOY_USER@$DEPLOY_HOST:$DEPLOY_PATH
- sshpass -e ssh -o stricthostkeychecking=no $DEPLOY_USER@$DEPLOY_HOST $DEPLOY_PATH/deploy.sh
env:
  global:
  - secure: dpHrx/N9yLGyzorEH1VgedyAt0D7TTKZrTC/AMYNBZQ4z2+42/xT6BPBKw6v8gKKyiOL6r7Eq59xJxC1ArxNqnNP70uRlU/HnUxjvtar54rg/OpY2Vhzpo/cmrol6Odqz4YrT2wKcAt33567sMW7JEhbzZFfcFfxRqamlaROhbubGLsofqyB1GSnjy6bXjTh24ipmbla9Jh77boU6uOoNFWdHGC0weBuMOKheZA1aVkJ/2diaagZYwjwvG+7kFxH5b3vGKTCvTNAac+Sipcgleu/nBxP9KlJDgXXKWDhWsqUDWWBS5CPkZUVenX3+bGxqgcs/tup8YZSasKuI+PF52yUMQJeYHcZiyHHWr0iFRDgfNqxseTr7IRGD8hH5RLDxxXUh68BDzo4kbjkloWdW08DFahLF9BzPaQTcLsBRvBQuu2Hr4XG2WRoPB5mX2Y8UnrlMRlZS9/JrWVUnRD+6xXQUngndkfzUmBxV794HdNemOoXqMzIh8GYqN/3PDPnoe07W12Taz4YpBg+iWvPg6oZtALBCE5UTRVVOXYucEjVqULyhbqzXFUZIYJAGRBJo85/uuGoHJsoc7B/+jdGmsso1I4NGQLGn1keiFI4DWy1r4wNuXj/DnsjzAS3H099tDo4dxdr+96+IM4Rj71e/YgtxCtD8YWI/4WS4+63wOU=
  - secure: KEqsRHXMuWceFN2rFs/lBHbf4eQFn1M34rhobItG7EdEpaxgE+uJof3sI/c/elMsKEQR0QzDqjTmmKghPoFB4gskasKLw9BLHKsvbenDs13kJoktM73EY8++rq/M/HaEwpnnEdASCBMVkvtTwoQIMnz1kwbuIlJXzlqN5nsZUMyVqbl9AMb4lv3G1AhdEUNTkVFSoUwICb3tgsrN7LFTMTBQMW7TPAXDJP0P1q1196ynONXMn0jZVj3LCtDKBs27kJYi4fHv/K+zSqsD0U3ttT2LrATcWueYQHBKS0OlI4uoHqe7DIEOgMo/DgPmTwiibZM9W8gT5vndxH0O7k5QtfpxIO75uUMLX25sXULUi+scKezZuE8WH3StWLNKTNhgM4+oX70uAnE+wrwqVlQHZ5HtrRPOAMOoDdhpoxJrRvAhh0y2ucAK2k4CliDaSfDdHLHc8HWFsOPZXsokK6Wx8DwQF24W0eefgSZlN0HmVAurMNQ/x2w0r7pcWscp+itGVP1Jj6G/kl5EHRjB7d+JX+aDsnNK0o+GpqDnPYJHu8tD8VcXCkEe7MX3ACLwv5iZhZPaytcx1lQ1XxPB4suseUnO8fCjc1JKbA3u0Hds0uKGpnaWNOd+gwtWClu1zd8qSrzuvH283eozqN1ifo/8FvJ9PEGCgb/uURStw2gidF8=
  - secure: Ue9TxqcmcFLc+6gQ1pSf6hsisWPKR1SBD8Q1APnWuMCD5gi6w274oeVMx6Ofv1BC0N5WTefligplLdfLBePAubvemEAdlRuLlYfeazMh32KQxibLQngzAa5XkDiQ5qifNh6lu1bxB1SjK1W+wpBYU0nmDlcFnaluXmslG4OIRBvscB6AUnjIsUrLfwtYHkgclOUUE8hdO/ru6zWL6f+EdF+Zws3fCFbc87KNV+RwEVfA1Gmf0Or4o4yQeQckFuZ+aLTsVoYetJ+olgK7Z9fOvhY/Rk6Tuuk6d8GEEtU59Za/EDCPntqbk6fbk1cDEDgZnCZ6Ys4JRGgxWXaYG7IbHUgLA8nrkXC9FTJvg++zpP2o7ekv6Re5kobBTTdy3xik8gmEmZQtNQOjRVh0R2IEaY0B5S8NrZxKD8jFX3CqpjtsD4zzRP2tsblpaIXtbuh+8eg7JpYng9N10SpXe1dX0CyNHeIeJvjeN9I6casStQV1CcivSinGzTDAi65KE8ARUzZzKGcSOtJG+WSVtJJw7Md8qdB7Kt9gFzyUvEUJnkynfEkeJ+eNu+1Ttif94KmsBz+UL5QPqUn0fFPEw7jWVuncbBtJXnbccgPaawj9DE/IR0zZRyqzBipXy+iZnLClTS4LkzuayxGBM5ttwiMMsKmYrcwpRe3T2wSsqlTi6C0=
  - secure: LQhq5m+aAOY6HqQvtc9Pbmm4dySoo2jkT9p+qzzQRCXhGgyqP1fjMj45eGdeh/VQxMv+KSNaLdKCM4uXJp8He2AA5OPNWF09lXY+HIXlntRTItvfoqtdnCi/A5sxqllcXssbX7sNNr0DKNxOvtN7CcMD0qTc/4paAadCfQydulLaLQKh96pkf83Jl+L7CYwjkb5zJNaugIJ0alHIsTGUi2ywYZimYayyp2kHhhZgtJgGoAZGanWwd2PgUd5oU7VTF8eWDIWsJGdpKNGfajFZaYKmWZnIVrCuw2uHMFvGan8IzWOSN1BWdLqPy2vgR2NyNcHCppms70QChkBm89XphTdn5KHPJ3dYxPwUF1A4Qpiika6jiMKbNRffwG1Xr1dfFErnAInWvA4u1Tt/RO6/nm/Zf+20NDAAupdtSRZQ7+lN55WDnxMcisQPsexTG9EKO/+SplVf+B6NsBgc3NExJeyptjWuUdzkJ0Mnik9YD+cF1tlS7bNp0i5wupw3K2LqD4GKzf7xg+Un1G0dnMflMjW/IQaCxYUS0QGu0GAFDSNrEf0sNpqV8yZh2TwBihQGHZy8Iz5C6tXIobJAdZnFTGDy2CfdagyvnCO2HCZZUOUM4gbHic6q5YOgvDJvzb/NhbkqtJGPHFf7a1quNsv6tAYdpq9mhThvUP8EB4mP58s=
